# Automatically generated on 2020-07-06 UTC from https://codemagic.io/app/5f03816ef9cfa6000e6d3b49/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  default-workflow:
    name: Create release
    max_build_duration: 60
    environment:
      vars:
        SSH_KEY: Encrypted(Z0FBQUFBQmZBNHVocXBwaWJuYkZhWms2TkxYMktzd29oNnpOcFoyRjhSeFRjQnhpcVJwWmRCMHNnZWVKOWNjU296UjQ0Vk96Q3NqNGxXdGFuNzN5WVNEajlpVkE5eEM5YktKWUg2LXJKSVpXQWtCT29INmNfOGx3c3dMNThVei1wSUFKUnlIdDQtT3dLLUhsck44R0dxNEx4Q0xjTnNYUkZsbWp0Mi15NVNjTGJ5c2psV2hnV1dZaTlienFOSzR0azBhWHRKZ0FReXZKNm9PYzhiZksyZXpuZ2lkSERsZjZWT0VsdTBnbDhhMUxBa21rT2NRQzl0SmFVRGJRSGRXbldLNEZsUTlzMktrbElZc0xmdUdPSVNLQk1kV3d0OWxTd3lfY0pMcVZ2eUE0ZE5OM2tURk9RYlJPWXhfdGhoRmNhSjlFbVlmbFNBQTh5c19oOVdXc1RacVBPSHdreDlrS1ZaRGp6NWN2b0F5Njk5cEVtQWhOS1NmZHVZMUhMTFFWR1hBcFNCUUU4ZWVFaXoyVXRCWW5oeHFrell6QXZjc3dIZ243QV90NFduamthSWRBSTQ5N0U3WDduZHIwR25KRmZ4QXpjeTNFM25OTUl6dTN2YWtQUmlHbDVMbHFDVGxvYmxxM0xRUFhnNmZtUVh5TS1MdjB0cFBDVkhZMXhxQkJIOVl5WDlseUh3YndUaTBfVGJtOTV3bFBjX2pqcnlROFlYYUk3akFXa1l6RGFhUkNvZldnNHMtVWNRX3dOYzNBaUJUemdmTDh0MGlBUTY0cWRsQ3ZGSUJudGE3Rnc3dWc4VldZQlJGMURpSm9EVUp0dnY3VFR1WWw3WElobS1jWllmSEdJQ0U3TTdMQ2NPbFFwMjhWNEJBTVRfUDlrZ2xLWUhNc1oxSHhNU3dRdld5N256V2VTbE5JaE1adlB5amdxSDhpN0JvMTU4UTk2LXpmZF9oRVBMNWJnVFMwVWhjSi12R0cxZEVrd01WTUFJaElyaU1YNS1CNV9ScUNwallwWFd5NUtCVE1fNVJRY3BRZHg2eFNqUzVPcGVBTmVIWW5Xc1lZam1KRkZkcUMzbHd2YjBmLTNIbHc4QzIzTVY2dDFaTnVBSHgxUGlhM090VU1aWmNBNzZIQ1BPNHJTYTBFZ0NHZ0wxQzJ5d3BDbWhMdm1US2V2T1hlc3Jvd1pSTl81NzZEMHJxZ3JyUmExdHZOVlVYbzF6WEFHczhQc0t2NFNoNVRXcFp2Q1NncnJ3cGl2ZUptV2VjNkVZdTl6RU9NTi1hTkdadjlQblFNa1paT3VlWE01Z3k1QWtnZ1ZaYjNzSFcyWnZTeEs5OEliUjBqeFRvWE1NeVpDbGlXRXh0OUpHVWtDNFRfNEVLeFF4cm5XMDB1TlpfZGFGV3otS2I1TXJGb3VTcHQydTZ6R1gtb3NTZ2ZPUnljUlNoblp2Y2RMZHE2LU15UEtXTTFDcU9NdHlxeG1vaFhOZW9kY0pucFBISzMxbVowbmFwc1VxdzVDZ0czX0REdmFaT3NubnJUUkV0SWt2andZLTU3Nkk0MFdWMFZJR3dGdFYzT0dJNnJEaXZ4VE9WMmN6Vk1pMzByU0lVNEh6b2I4c2dVYXN0YXZHRm9kb0J0ZXFBdk55Q09iaEU5aHRtYXFnMmJ3LWI2Yy1qY2duYzQtRENNbUp3dWVVSDBUVVh4dloxME05OXZFZVFkMGRSWnhyUHVmZzU4WnlmUWcwRnZsbzZTNVNqd0piUFZQbjMtWnZTLVBuZ3lGY205MDRkbEdNdUFQNGRLS3RNMlpTQThad1RJYXRFR2RGSjQ5QlVWUWdfSkRfaDdCQ2swSzZ3N29VN1BZQTlOY0xUZUMyT2FFSzVNYjJUS1RPWFhpNWRlSEkxSktTZWNUeFV6QTg2NmV4Y0FSM3FwM3RrX3BHdWJsNlppRzB6d1JHcE1CZGExcWdJcVBlTXlLSEltUU9Ucm15dVBadXdrYmxjbGNRc1pqS0hCZWhBWmlUcTkwNXdlMU5MOE0ySVJhQ2p1dlFDbXRsNjJwVlRlZ3lRVGhRRm9MZmRSQmFKSlJKWlpFZDdIYzNnUGp0S1Nsbng2RENrS1llMVkyRXU0OXp2dHJDbEFwY2xDRm5pU3FBX2tteUt6Y3BnSXBka3AzV2I3ZFBhZGlkY2thLXBIVFBYNDZxUTJnQ3V3R1FfYmhaazdfQWhVcGY4UzQ2QWdIbDMyQ3VtSVhSMVZ2OWNpX0EzTUFxQWdJdmFfSG9VaGZKODB3ZDBhWDNsMGlLS19sNDBoT2tIWTVQbjZITEhSdWpvZ2RsNVBWdWE2Z1lsTVVCcFQ3a2J4Z2k2dzNQVlF1YTh1VDBRaVQxUmdVREROYXdZNDFkZVRNTkV6QjVTV2FsTE9JNnJxXzNjbEVtNENUVUFPSGs2MmctVndMWVQyQ1F1MktqLW5KQ0xKZ2FhbldLLWxnbF9kNjY0cnp1S25pbnZyYl93WlpIRlI3RDlESllDZWNJNTVqS0VUWW0wcTRYY2tiVVYyd1ozaEhiOGNCcW81eF9faExZeGZJcktqMDVtSmt0SHhPZmxYV0lWdEV3NndzUkFudUhwZ290d1JmRjVsckhoakU4TW5YOHpPV1I4WEZwYlBxREFyMFFnVHZrX2ljaWVRV3hWdjh1R0lpYUd6WWg5RmY2Mi1HM0tZYjl6bHpOSFNmWlFNbUpZcmxteHd4UEtDTTRla0pPSlZsaF8xUjJ1NGhPRlFHVFNLREdFUVF6M2FpM1p1WFdTWldEYkZGc09HeXpvNnFESGNCeUh4Y2IwYXJzT1NwTTNqU1EwT05wN2NtUDNPQnQtZHNSUU8ybDJET3ZZcWl4NVYyeGR4X1hrMHdqaGpvelhwc1liUW14V0t5aFh6TjhBYzl2emViUW1oSFBuWVZMNWVYa2h3VEZfVTlXUjZlc05JUWZCS2JHMGJYdFBzbDNBU3dHTW0yaExCU0xLTFRNNlhsaU10S3hINVo2dGNPUzhmemlueWVNWWRRZ3p1eEV4eTA4TERMZTNYZU1LTVVqZVI2eWk2b09SMzJ2WFRMWnNhalNqN1NIOTB1c2FTSW1QeU1MVE5nVFdIVE9EaG8xT2JVT3R0MVo5R2p0UFZ6UVdyU3hISG5relJjLUw5bTNIeFhTaGdEM3JISW9jakgzRTVDVk94T0FBcUI2c2pZWG9McHdwZ2hoZXFtTDkxRnhZOU0tV21ITWdyemtMRU10bVhHeDhFMFpxVUpSQ0tQM0d5eHp3MGNFdEZNTzVDYUp2UFVmQ3l0ZTlSRUZtNGtKNnN2RWR5VW44aUZ3SHpHcUhNdGVNbHVkcFBVUlZSQ0c3RHgzLXl4aG5SZFg3bVJIV2ZVOFlQMjBmMW1neWF0R2JvZkpFdlNYZl9tSzc5Y09PT3oyWFFnYXFvMEVtWUlQYjU4Q3V6VGJndzFTXzlqOFI0MXVyelAzdFk3aUJObVRyQkVvNHZJaXZuUjgtNEtfMXc2S3lDNEtZVTFZdDN3LVR1SjFBRmxmYmhNMnhvRTJXWWtoRlhnLU1VNmRoVUtxRmFmQ29Xc2phaEdRV3k3aWFpTW13SUJNa2RieWJneEdmY0F0Rk1tdVJBNHY4LTNqckVHc3dBR0haZm9GMGdSM2Z0TjFKdkdwX2Zjc1ZTR2g5bWozTUZjaXBfU1V5bGh3aE5nOW1XcDJySTFCOC02MEVRVzd6VlVqbDhkRVhiT191Y1JQNlBGdkRweEFISXNyRHdjMmJEVlh2TnBvMy02QVpyaGZMQkdpM2hwdEJmN1htRzllNUdZeVVfSnpBU3JUUXd6M0s5N2NQbGxqWDhrb19hT3RaeVhSeXFDTlJqbmxzZzUwRUV5dktLa0JXWVdQTGZkeDRCZ2EzN3BOa2QtZm9fTGVuYS1WUi15cVdMRFFzYWRRUkZjSUx4MFBrZTRVUDdvb3F0RGNuUW1RYkZwbE1EZkpyd3FrbG5PLW80NGZVOUswUEpQYWxXT2Q1UWx5ajZhaXA1aXF0QmF0YS01QmlGTHNiVklYX1lkc2Fya3JaY29OX2RUSUp3QkxqTXZLZmFLS0E0YWNEWEw3a0VQeW5WU21wR3hvQWdkNHp0N1ZZRDhtWERWd1BRVVhTWXljNldMMkRudnNRREh2S2huZW1sa2V4QVRjekZkeHlLUUw0OFRrNEtwNS1DNVlYUkFUQkJNOVV0elRqNUdfdzl1OTdLYVpnUlhjTUdpTUcxWnNFd1liT1UxcklfdUpIX1FicDdxeGN4VjFnZmRxNkRYbU9RR3loRWRqdmg5VUlUbUhkM1NYXzZ0OC1HT2ZQeTNYdUFCUTJzTURWVFZUMUtyb3l4QjI1R0tmbXlIYnFBbklPZkNuektYa3k2THBYSXFPdVQ2UDBVS1lUWFJtcWhQNFBvZnQzdUc0Uzc1c25SdHR2Z1l2c0pKRFY3eGNsa1d0OXF2ZkVZenhEVzJwenVfbWMwWlpMTGJVV0lWU0dCa0d1N0ZZVXRoeUR4UzRXWWdqbXk3QXA0b3F3bGVNNU9ZaktCZjZ0d1JqU2p2OXF0NkZBTVRZVTZHS25oTjZfajlWaVVaaWVyMXBRZkhoZ3RVQ0dUNzczY18zd3F5cEY3U0t0UjdRWUJlN19paGYwQjBDS1VJLTh4LUNGaW5TT0xYRXVwMVNYR0kzYjE1M3dEQW5feFRuOHZ6NXlPZ2ljb3ZodnltVlQwT3lBVUNwczBUbE9UbzlCZmxLWVEwN25LUGVGX1Uxd3ptc0ZQdjkzRjUxMjQ1dzNMNkJEamVDUFNsdTBaVXBhaDVmc2dZLUpKOW5jV3gzZFhYZ0RfcmhPbDVCbzZocUQtUi00dHRJQkhZZm1DWGg3NkpXVndfbmRsdU1NM3VvT3Y2d081cUt4eVRpakhuaEVXZWNmX1NnTEJEN2pNTlp2V09VVFFDM1k1dl9FUmdjWVhhTnZzN3ZMVTVGQXNMdW1qalJLTEdsQ2VsMnVaZG5nakJiQXY5R2ZIbUFuTXpWZGRCVkYxQzJ6YkpjdDdpM2xhWmxhay1wUFlzZTNfZjB2a0FsaXZMQ2dRWUppdHlYVU53dXlhbDJrU01TUTdZWWtVaTNhM3h1cDBUUkZZZjBXV1d5MUlPVHdpanVnVWNVZG9yT3FMeGMyeGl3Vy1zenVWaFFKb0FQd2hpc21ycm1fWFNxUTJOT3BxZmlGTlNDZkVYVXIzQXRTYWlnQnBCRTZDVWxYVVI0STVWQVR4ckdpWDhxSVZKU2JCYXRLSUtUTlpiZXNmX0I2R2hfUENEUUVmOFBNanl2Q2x6RTBmUDQwcEF0elVLQVZFbUxUZVg5MEJ1Mlhqb25FSGxPN2RLei1FM0NGM2xyNURPWDlKdkR1dlhLZGxuYXB1MC05Z0RiN3NaWTlVTWp0UVdibmFuQ3VVRHExcGlYY2dyZUM4YnVyNlZXN285eEhSeFFBd2tuUHRici1tZHlZeENUYktETGY4R2tsaHhzSE00b2JCT2NQanE2ZzB5UkU1MUN5MVYxUnJEa0wxMEdQZEZ4N3I3dFllT2JhMDlmdVpiSE1lZHYtN2VxaUhETmJuTEpmOEQ3T3pEUUI0ZURxb1VXaldWeGc5YTFwanFyWUZyYWp3Q3ZZdDFYUFgwRUFfX2JfTEdwVm5XeHgtY2JrYk5TQTZrbUhiOTRRblY0SzJRVjk2eDhaN1BvZGRld0huR2Vka1h5bG5aa21ENV9MYVBzc21qbTQ0cUJUWGdPbUhrN0NwWjVoWl9wZGliVjExTkNRLUtWN2NYTVA0LVNRSHY5cmtfS2hsaDE1el9keklQU25vMzRkOU5yenZUVDFvNV9mVGNFaDRaTFpvQVRpNE1VV01zTVJNSGFQVnhReVlBSjZ6cHNIZG9MTlZBNVBlVDlhNmtxNmlxUGdGYmoxQjRCb3pjRkdXdFV0TElNQzBLSDRGeS1GakNZNkZMUHc2UWpHb2Q1Y194SDlKeERhY25ueDNRS1IzMzBNbFhoVmJFWWl3bHZIZDYyTmZ1bndVTmwtNTUxOXl3aXdpZF91dzA3NXB5dEJsUXNoMXZQNlZsMWZQLWxXWDl4VXVPRHlia2cxeU01VjExa1JKZ1VrYjJvanU4aTVtSXY0PQ==)
      flutter: stable
      xcode: latest
      cocoapods: default
    triggering:
      events:
        - tag
      branch_patterns:
        - pattern: '*'
          include: true
          source: true
    scripts:
      - |
        # set up debug keystore
        rm -f ~/.android/debug.keystore
        keytool -genkeypair \
          -alias androiddebugkey \
          -keypass android \
          -keystore ~/.android/debug.keystore \
          -storepass android \
          -dname 'CN=Android Debug,O=Android,C=US' \
          -keyalg 'RSA' \
          -keysize 2048 \
          -validity 10000
      - |
        # set up local properties
        echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/android/local.properties"
      - flutter packages pub get
      - flutter build apk --release
      - find . -name "Podfile" -execdir pod install \;
      - flutter build ios --release --no-codesign
    artifacts:
      - build/**/outputs/**/*.apk
      - build/**/outputs/**/*.aab
      - build/**/outputs/**/mapping.txt
      - build/ios/ipa/*.ipa
      - /tmp/xcodebuild_logs/*.log
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - plataformabk@gmail.com
